---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  name: kubernetesclusters.vitistack.io
spec:
  group: vitistack.io
  names:
    kind: KubernetesCluster
    listKind: KubernetesClusterList
    plural: kubernetesclusters
    shortNames:
    - kc
    singular: kubernetescluster
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: KubernetesCluster is the Schema for the Machines API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              data:
                properties:
                  clusterId:
                    type: string
                  clusterUid:
                    type: string
                  datacenter:
                    type: string
                  environment:
                    type: string
                  project:
                    type: string
                  provider:
                    type: string
                  region:
                    type: string
                  workorder:
                    type: string
                  workspace:
                    type: string
                  zone:
                    type: string
                required:
                - clusterId
                - clusterUid
                - datacenter
                - environment
                - project
                - provider
                - region
                - workorder
                - workspace
                - zone
                type: object
              topology:
                properties:
                  controlplane:
                    properties:
                      machineClass:
                        type: string
                      metadata:
                        properties:
                          annotations:
                            additionalProperties:
                              type: string
                            type: object
                          labels:
                            additionalProperties:
                              type: string
                            type: object
                        required:
                        - annotations
                        - labels
                        type: object
                      provider:
                        type: string
                      replicas:
                        type: integer
                      storage:
                        items:
                          properties:
                            class:
                              type: string
                            path:
                              type: string
                            size:
                              type: string
                          required:
                          - class
                          - path
                          - size
                          type: object
                        type: array
                      version:
                        type: string
                    required:
                    - machineClass
                    - metadata
                    - provider
                    - replicas
                    - storage
                    - version
                    type: object
                  version:
                    type: string
                  workers:
                    properties:
                      nodePools:
                        items:
                          properties:
                            autoscaling:
                              properties:
                                enabled:
                                  type: boolean
                                maxReplicas:
                                  type: integer
                                minReplicas:
                                  type: integer
                                scalingRules:
                                  items:
                                    type: string
                                  type: array
                              required:
                              - enabled
                              - maxReplicas
                              - minReplicas
                              - scalingRules
                              type: object
                            machineClass:
                              type: string
                            metadata:
                              properties:
                                annotations:
                                  additionalProperties:
                                    type: string
                                  type: object
                                labels:
                                  additionalProperties:
                                    type: string
                                  type: object
                              required:
                              - annotations
                              - labels
                              type: object
                            name:
                              type: string
                            provider:
                              type: string
                            replicas:
                              type: integer
                            taint:
                              items:
                                properties:
                                  effect:
                                    type: string
                                  key:
                                    type: string
                                  value:
                                    type: string
                                required:
                                - effect
                                - key
                                - value
                                type: object
                              type: array
                            version:
                              type: string
                          required:
                          - autoscaling
                          - machineClass
                          - metadata
                          - name
                          - provider
                          - replicas
                          - taint
                          - version
                          type: object
                        type: array
                    required:
                    - nodePools
                    type: object
                required:
                - controlplane
                - version
                - workers
                type: object
            required:
            - data
            - topology
            type: object
          status:
            description: |-
              KubernetesClusterStatus represents the status of a Kubernetes cluster.
              It contains the current state, phase, and conditions of the cluster.
            properties:
              conditions:
                items:
                  properties:
                    lastTransitionTime:
                      type: string
                    message:
                      type: string
                    reason:
                      type: string
                    status:
                      type: string
                    type:
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              phase:
                type: string
              state:
                properties:
                  cluster:
                    properties:
                      controlplane:
                        properties:
                          machineClass:
                            type: string
                          message:
                            type: string
                          nodes:
                            items:
                              type: string
                            type: array
                          resources:
                            properties:
                              cpu:
                                properties:
                                  capacity:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  percentage:
                                    type: integer
                                  used:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                required:
                                - capacity
                                - percentage
                                - used
                                type: object
                              disk:
                                properties:
                                  capacity:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  percentage:
                                    type: integer
                                  used:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                required:
                                - capacity
                                - percentage
                                - used
                                type: object
                              gpu:
                                properties:
                                  capacity:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  percentage:
                                    type: integer
                                  used:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                required:
                                - capacity
                                - percentage
                                - used
                                type: object
                              memory:
                                properties:
                                  capacity:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  percentage:
                                    type: integer
                                  used:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                required:
                                - capacity
                                - percentage
                                - used
                                type: object
                            required:
                            - cpu
                            - disk
                            - gpu
                            - memory
                            type: object
                          scale:
                            type: integer
                          status:
                            type: string
                        required:
                        - machineClass
                        - message
                        - nodes
                        - resources
                        - scale
                        - status
                        type: object
                      externalId:
                        type: string
                      nodepools:
                        items:
                          properties:
                            autoscaling:
                              properties:
                                enabled:
                                  type: boolean
                                maxReplicas:
                                  type: integer
                                minReplicas:
                                  type: integer
                              required:
                              - enabled
                              - maxReplicas
                              - minReplicas
                              type: object
                            machineClass:
                              type: string
                            message:
                              type: string
                            name:
                              type: string
                            nodes:
                              items:
                                type: string
                              type: array
                            resources:
                              properties:
                                cpu:
                                  properties:
                                    capacity:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    percentage:
                                      type: integer
                                    used:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - capacity
                                  - percentage
                                  - used
                                  type: object
                                disk:
                                  properties:
                                    capacity:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    percentage:
                                      type: integer
                                    used:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - capacity
                                  - percentage
                                  - used
                                  type: object
                                gpu:
                                  properties:
                                    capacity:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    percentage:
                                      type: integer
                                    used:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - capacity
                                  - percentage
                                  - used
                                  type: object
                                memory:
                                  properties:
                                    capacity:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    percentage:
                                      type: integer
                                    used:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - capacity
                                  - percentage
                                  - used
                                  type: object
                              required:
                              - cpu
                              - disk
                              - gpu
                              - memory
                              type: object
                            scale:
                              type: integer
                            status:
                              type: string
                          required:
                          - autoscaling
                          - machineClass
                          - message
                          - name
                          - nodes
                          - resources
                          - scale
                          - status
                          type: object
                        type: array
                      price:
                        properties:
                          monthly:
                            type: integer
                          yearly:
                            type: integer
                        required:
                        - monthly
                        - yearly
                        type: object
                      resources:
                        properties:
                          cpu:
                            properties:
                              capacity:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              percentage:
                                type: integer
                              used:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                            required:
                            - capacity
                            - percentage
                            - used
                            type: object
                          disk:
                            properties:
                              capacity:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              percentage:
                                type: integer
                              used:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                            required:
                            - capacity
                            - percentage
                            - used
                            type: object
                          gpu:
                            properties:
                              capacity:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              percentage:
                                type: integer
                              used:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                            required:
                            - capacity
                            - percentage
                            - used
                            type: object
                          memory:
                            properties:
                              capacity:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              percentage:
                                type: integer
                              used:
                                anyOf:
                                - type: integer
                                - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                            required:
                            - capacity
                            - percentage
                            - used
                            type: object
                        required:
                        - cpu
                        - disk
                        - gpu
                        - memory
                        type: object
                    required:
                    - controlplane
                    - externalId
                    - nodepools
                    - price
                    - resources
                    type: object
                  created:
                    format: date-time
                    type: string
                  egressIP:
                    type: string
                  endpoints:
                    items:
                      properties:
                        address:
                          type: string
                        name:
                          type: string
                      required:
                      - address
                      - name
                      type: object
                    type: array
                  lastUpdated:
                    format: date-time
                    type: string
                  lastUpdatedBy:
                    type: string
                  versions:
                    items:
                      properties:
                        branch:
                          type: string
                        name:
                          type: string
                        version:
                          type: string
                      required:
                      - branch
                      - name
                      - version
                      type: object
                    type: array
                required:
                - cluster
                - created
                - egressIP
                - endpoints
                - lastUpdated
                - lastUpdatedBy
                - versions
                type: object
            required:
            - conditions
            - phase
            - state
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
