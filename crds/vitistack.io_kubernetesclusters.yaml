---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: kubernetesclusters.vitistack.io
spec:
  group: vitistack.io
  names:
    kind: KubernetesCluster
    listKind: KubernetesClusterList
    plural: kubernetesclusters
    shortNames:
    - kc
    singular: kubernetescluster
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: KubernetesCluster is the Schema for the Machines API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              data:
                properties:
                  clusterId:
                    type: string
                  datacenter:
                    type: string
                  environment:
                    type: string
                  project:
                    type: string
                  provider:
                    type: string
                  region:
                    type: string
                  workorder:
                    type: string
                  workspace:
                    type: string
                  zone:
                    type: string
                required:
                - clusterId
                - datacenter
                - environment
                - project
                - provider
                - region
                - workorder
                - workspace
                - zone
                type: object
              topology:
                properties:
                  controlplane:
                    properties:
                      machineClass:
                        type: string
                      metadata:
                        properties:
                          annotations:
                            additionalProperties:
                              type: string
                            type: object
                          labels:
                            additionalProperties:
                              type: string
                            type: object
                        required:
                        - annotations
                        - labels
                        type: object
                      provider:
                        type: string
                      replicas:
                        type: integer
                      storage:
                        items:
                          properties:
                            class:
                              type: string
                            path:
                              type: string
                            size:
                              type: string
                          required:
                          - class
                          - path
                          - size
                          type: object
                        type: array
                    required:
                    - machineClass
                    - metadata
                    - provider
                    - replicas
                    - storage
                    type: object
                  version:
                    type: string
                  workers:
                    properties:
                      nodePools:
                        items:
                          properties:
                            autoscaling:
                              properties:
                                enabled:
                                  type: boolean
                                maxReplicas:
                                  type: integer
                                minReplicas:
                                  type: integer
                                scalingRules:
                                  items:
                                    type: string
                                  type: array
                              required:
                              - enabled
                              - maxReplicas
                              - minReplicas
                              - scalingRules
                              type: object
                            machineClass:
                              type: string
                            metadata:
                              properties:
                                annotations:
                                  additionalProperties:
                                    type: string
                                  type: object
                                labels:
                                  additionalProperties:
                                    type: string
                                  type: object
                              required:
                              - annotations
                              - labels
                              type: object
                            name:
                              type: string
                            provider:
                              type: string
                            replicas:
                              type: integer
                          required:
                          - autoscaling
                          - machineClass
                          - metadata
                          - name
                          - provider
                          - replicas
                          type: object
                        type: array
                    required:
                    - nodePools
                    type: object
                required:
                - controlplane
                - version
                - workers
                type: object
            type: object
          status:
            properties:
              conditions:
                items:
                  properties:
                    lastTransitionTime:
                      type: string
                    message:
                      type: string
                    reason:
                      type: string
                    status:
                      type: string
                    type:
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              phase:
                type: string
              state:
                properties:
                  cluster:
                    properties:
                      controlplane:
                        properties:
                          message:
                            type: string
                          status:
                            type: string
                        required:
                        - message
                        - status
                        type: object
                      externalId:
                        type: string
                      resources:
                        items:
                          properties:
                            allocated:
                              type: string
                            name:
                              type: string
                            usage:
                              type: string
                          required:
                          - allocated
                          - name
                          - usage
                          type: object
                        type: array
                      workers:
                        properties:
                          nodepools:
                            items:
                              properties:
                                message:
                                  type: string
                                name:
                                  type: string
                                status:
                                  type: string
                              required:
                              - message
                              - name
                              - status
                              type: object
                            type: array
                        required:
                        - nodepools
                        type: object
                    required:
                    - controlplane
                    - externalId
                    - resources
                    - workers
                    type: object
                  controlplaneendpoint:
                    type: string
                  created:
                    format: date-time
                    type: string
                  egressIP:
                    type: string
                  lastUpdated:
                    format: date-time
                    type: string
                  lastUpdatedBy:
                    type: string
                  versions:
                    items:
                      properties:
                        branch:
                          type: string
                        name:
                          type: string
                        version:
                          type: string
                      required:
                      - branch
                      - name
                      - version
                      type: object
                    type: array
                required:
                - cluster
                - controlplaneendpoint
                - created
                - egressIP
                - lastUpdated
                - lastUpdatedBy
                - versions
                type: object
            required:
            - conditions
            - phase
            - state
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
